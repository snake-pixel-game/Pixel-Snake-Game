<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Pixel Weihnachts Snake ‚Äì Finale Version mit Bildern</title>
<style>
/* Feste Weihnachtsfarben f√ºr maximale Kompatibilit√§t */
html, body {
  margin:0; padding:0; height:100%; background:#001; font-family: 'Arial Black', monospace; overflow:hidden;
}
@keyframes fadeInSlide { 0% { opacity: 0; transform: translateY(-50px); } 100% { transform: translateY(0); } }
@keyframes titlePulse { 0%, 100% { transform: scale(1); text-shadow: 3px 3px #FFFFFF; } 50% { transform: scale(1.03); text-shadow: 5px 5px #FFCC00; } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fall { to { transform:translateY(110vh); opacity:0.2; } }
#menu { position:absolute; inset:0; display:grid; place-items:center; text-align:center; color:#FFFFFF; background:#003300; animation: fadeIn 0.5s ease-out forwards; transition: opacity 0.4s ease-out; }
#menu h1 { font-size: 48px; color: #CC0000; text-shadow: 3px 3px #FFFFFF; padding: 10px; border: 3px solid #FFFFFF; background: rgba(255, 255, 255, 0.1); border-radius: 15px; margin-bottom: 20px; animation: titlePulse 3s infinite alternate ease-in-out; }
button { padding:15px 30px; margin:12px; font-size:22px; border:2px solid #FFFFFF; border-radius:10px; background:#CC0000; color:#FFFFFF; cursor:pointer; box-shadow:0 4px 15px rgba(0,0,0,0.5); transition: transform 0.1s, box-shadow 0.2s, background 0.2s; animation: fadeInSlide 0.8s ease-out forwards; opacity: 0; }
#menu button:nth-child(2) { animation-delay: 0.1s; }
#menu button:nth-child(4) { animation-delay: 0.2s; }
#menu button:nth-child(6) { animation-delay: 0.3s; }
#menu button:nth-child(8) { animation-delay: 0.4s; }
#menu button.settings { animation-delay: 0.7s; }
button.settings { background: #FFCC00; color: #003300; font-size: 18px; padding: 10px 20px; margin-top: 20px; }
button:hover { transform: translateY(-4px) scale(1.02); box-shadow:0 8px 25px rgba(255,255,255,0.4); background: #E81010; }
button.settings:hover { background: #FFE050; color: #003300; }

canvas { width: 600px; height: 600px; background:#001; border:4px solid #CC0000; box-shadow: 0 0 20px #38761D; margin:auto; display:none; image-rendering:pixelated; image-rendering: crisp-edges; transition: opacity 0.5s ease-in; opacity: 0; }
#win, #gameOver { position:absolute; inset:0; display:none; place-items:center; background:rgba(0,0,0,0.85); font-size:40px; text-align:center; animation: fadeIn 0.4s ease-out forwards; opacity: 0; transition: opacity 0.4s ease-out; }
#win div, #gameOver div { padding: 40px; border-radius: 15px; box-shadow: 0 0 30px #FFFFFF; animation: fadeInSlide 0.6s ease-out; }
#win { color:#FFCC00; text-shadow:3px 3px #CC0000; }
#gameOver { color:#CC0000; text-shadow:3px 3px #FFFFFF; }
.snowflake { width:4px; height:4px; border-radius: 50%; background:#FFFFFF; position:fixed; top:-10px; animation:fall linear infinite; image-rendering:pixelated; }
</style>
</head>
<body>

<div id="menu">
  <div>
    <h1>üéÖ Pixel-Weihnachts-Snake üéÑ</h1>
    <p style="color:#FFCC00; font-size:18px;">Bilder Lade-Status: <span id="loading-status">Wird gepr√ºft...</span></p>
    <button onclick="startLevel(1)">Level 1 ‚Äì Score 5 ‚Äì Langsam</button><br>
    <button onclick="startLevel(2)">Level 2 ‚Äì Score 10 ‚Äì Mittel</button><br>
    <button onclick="startLevel(3)">Level 3 ‚Äì Score 20 ‚Äì Schnell</button><br>
    <button onclick="startLevel(4)">Level 4 ‚Äì Score 30 ‚Äì Sehr Schnell (Gro√ü)</button><br>
    <button onclick="startLevel(5)">Level 5 ‚Äì Score 40 ‚Äì EXTREM (Sehr Gro√ü)</button>
    <br>
    <button onclick="toggleFullscreen()" class="settings">üñ•Ô∏è Vollbild umschalten</button>
  </div>
</div>

<canvas id="game" width="600" height="600"></canvas>

<div id="win">
  <div>
    üéâ Level geschafft! üéâ<br><br>
    <button onclick="closeWin()">Weiter</button>
  </div>
</div>

<div id="gameOver">
  <div>
    üí• GAME OVER üí•<br>
    Du bist kollidiert!<br><br>
    <button onclick="retryGame()" style="background:#38761D; color:#FFFFFF;">üîÑ Erneut versuchen</button>
    <button onclick="closeGameOver()">Zur√ºck zum Men√º</button>
  </div>
</div>

<script>
/* SPIELKONFIGURATION */
const CELL_SIZE = 30; 
let FIELD_SIZE = 600; 

/* BILDER LADEN (Logik optimiert f√ºr localhost) */
const imageFiles = {
    evilGingerbread: 'gingerbread_evil.png',
    snakeHead: 'snake_head.png'
};

const loaded
